<!doctype html>
<html>
    <head>
        <title>Frontend Playground</title>
        <link rel="stylesheet" type="text/css" href="codemirror/lib/codemirror.css">
        <script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
        <script type="text/javascript" src="codemirror/mode/xml/xml.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script type="text/javascript" src="carlo/jquery-base64/master/jquery.base64.min.js"></script>
    </head>
    <body>
        <textarea id="editor"></textarea>
        <button onclick="submit_html();">Submit</button>
        <iframe id="result"></iframe>
    </body>
    <script>
        var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
            lineNumbers: true,
            mode:  "xml"
        });

        function submit_html()
        {
            editor.save();
            var code = document.getElementById("editor").value;
            var data_url = "data:text/html;charset=utf-8;base64," + $.base64.encode(code);
            document.getElementById("result").src = data_url;
        }
    </script>
</html>